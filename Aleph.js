(()=>{"use strict";var e={269:(e,t,r)=>{t.currentScript=t.allScriptAttributes=t.alephCookieName=t.AlephScriptId=t.IframeHashPath=t.AlephIframeId=t.tokenAddress=t.referralQueryString=void 0;const o=r(681);t.referralQueryString="a",t.tokenAddress="AlephAffiliator",t.AlephIframeId="AlephIframe",t.IframeHashPath="#/AlephSwap",t.AlephScriptId="AlephLoader",t.alephCookieName="affiliation";const n=[t.AlephScriptId];t.allScriptAttributes=["chainId","address","decimals","symbol","name","fees","logo","slippage"],t.currentScript=function(){try{return document.currentScript}catch(e){return document.getElementById(t.AlephScriptId)}}();const i={title:"Buy tokens here instantly",referrerpolicy:"origin",frameborder:"0",height:"500",width:"300",style:'{\n        position = "relative";\n        left = "50%";\n        right = "50%";\n    }'};function a(){let e=window.location.search;if(""===e){const t=window.location.hash;""!==t&&-1!==t.indexOf("?")&&(o.debug&&(0,o.CL)("Found affiliate in hashed URL"),e=t.substring(t.indexOf("?")))}return(0,o.CL)("queryString :",e),new URLSearchParams(e)}const s={get:e=>{if(!document.cookie)return"";const t=document.cookie.match(`(?:(?:^|.*; *)${e} *= *([^;]*).*$)|^.*$`);return t?t.length<1?"":t[1]?decodeURIComponent(t[1]):"":""},set:(e,t,r={})=>{r.days&&(r["max-age"]=60*r.days*60*24,delete r.days);const o=Object.entries(r).reduce(((e,[t,r])=>`${e}; ${t}=${r}`),"");return document.cookie=`${e}=${encodeURIComponent(t)}${o}`,!0},delete:(e,t)=>{s.set(e,"",Object.assign({"max-age":-1},t))},setJSON:(e,t,r)=>s.set(e,JSON.stringify(t),r),getJSON:e=>{const t=s.get(e);return JSON.parse(t)}};function d(){const e=function(e){const t=a().has(e);return(0,o.CL)(`paramName ${e} is set :`,t),t}(t.referralQueryString);o.debug&&(0,o.CD)({hasParam:e});const r=function(e){const t=a().get(e);return(0,o.CL)(`paramName ${e} value :`,t),t}(t.referralQueryString);(0,o.CD)({urlAffiliator:r});const n={urlAddress:"",urlValid:!1,storedAddress:"",storedValid:!1};if(e&&r){const e=(c=r).startsWith("0x")&&(0,o.isValidETHAddress)(c)?c:function(e){return"0x"+e.split("").reverse().join("")}(c);(0,o.CD)({urlAddress:e}),n.urlAddress=e,(0,o.isValidETHAddress)(e)?(n.urlValid=!0,i=e,d=t.tokenAddress,(0,o.CL)("saveAffiliator"),(0,o.CD)({affiliatorAddress:i}),function(e,r){let n=!1;try{window.localStorage.setItem(e,r),o.debug&&(0,o.CL)("\n***** Success saving to LocalStorage"),n=!0}catch(t){(0,o.CL)("\n***** Error saving to LocalStorage:"),(0,o.CD)({key:e}),(0,o.CD)({value:r}),(0,o.CL)(t)}try{n=s.setJSON(t.alephCookieName,{[e]:r},{path:"/",days:364}),n&&o.debug&&(0,o.CL)("\n***** Success saving to cookie")}catch(t){(0,o.CL)("\n***** Error saving to cookie:"),(0,o.CD)({key:e}),(0,o.CD)({value:r}),(0,o.CL)(t)}if(!n)throw new Error("All means of saving key failed")}(d,i)):(0,o.CE)("URL param from affiliator but address was not valid")}var i,d,c;try{n.storedAddress=function(e){return o.debug&&(0,o.CL)("loadAffiliator"),String(function(e){let r=null;try{if(r=window.localStorage.getItem(e),r){if(o.debug&&(0,o.CL)("\n***** LocalStorage found value for:"),o.debug&&(0,o.CD)({key:e}),o.debug&&(0,o.CD)({value:r}),!o.debug)return r}else(0,o.CL)("\n***** LocalStorage value empty for"),(0,o.CD)({key:e})}catch(t){(0,o.CL)("\n***** Error reading LocalStorage:"),(0,o.CD)({key:e}),(0,o.CL)(t)}try{const n=s.getJSON(t.alephCookieName);if(n[e]){if(r=n[e],o.debug&&(0,o.CL)("\n***** Cookie found value for:"),o.debug&&(0,o.CD)({key:e}),o.debug&&(0,o.CD)({value:r}),!o.debug)return r}else(0,o.CL)("\n***** Cookie value empty for"),(0,o.CD)({key:e})}catch(t){console.warn("\n***** Error reading Cookie:"),(0,o.CD)({key:e}),(0,o.CL)(t)}return r}(e))}(t.tokenAddress),n.storedAddress&&(n.storedValid=(0,o.isValidETHAddress)(n.storedAddress))}catch(e){(0,o.CW)(e)}return n}function c(e){(0,o.CL)("Setting up affiliate at ",window.location.href),function(e,r){(0,o.CL)(`Posting message to iframe ${e}`);const n=function(e){const t=document.getElementById(e);if(!t)throw new Error(`No Iframe found with Id: ${e}`);return t}(e),i=n.src;if(r.actor=t.AlephIframeId,!n.contentWindow)throw new Error("Iframe.contentWindow is not loaded for Iframe with Id:"+e);n.contentWindow.postMessage(r,new URL(i).origin)}(e,d())}let l=0;function u(e){(0,o.CL)("window.onload"),function(e){(0,o.CL)("loadIframe");const r=i;var n;r.src=(n=function(e,t){const r={};return t.forEach((function(t){const o=e.getAttribute(t);null!==o&&(r[t]=o)})),r}(t.currentScript,t.allScriptAttributes),o.baseURL+"?"+function(e){const t=[];for(const r in e)t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")}(n)+t.IframeHashPath),r.id=e,function(e,t,r,o){const n=document.createElement("iframe");null!=t&&function(e,t){for(const r in t)void 0!==t[r]&&e.setAttribute(r,t[r])}(n,t),n.innerHTML=r,function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)}(n,o)}(0,i,"The iframe tag is not supported by your browser. Please try on desktop!",t.currentScript)}(e);const r=document.getElementById(e);if(!r){if(l++,(0,o.CL)("IframeSearches = ",l),l<30)return void window.setTimeout((function(){u(e)}),150);throw new Error(`No Iframe found with Id: ${e}`)}(0,o.CL)("Detected Iframe"),r.addEventListener("load",(function(){(0,o.CL)("Detecteded Iframe load"),c(e)}))}window.addEventListener("load",(e=>{console.log("AlephAffiliate: page loaded"),(0,o.checkAllElementsPresent)(n),u(t.AlephIframeId)}))},681:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkAllElementsPresent=t.isValidETHAddress=t.CD=t.debug=t.CW=t.CE=t.CL=t.baseURL=void 0,t.baseURL="https://alephdao.com/",t.CL=console.log,t.CE=console.error,t.CW=console.warn,t.debug=!0,t.CD=function(e,r){if("object"!=typeof e)throw new Error("DV: does not work for individual vars, instead pass them like {a:a}.");void 0===r&&(r=t.CL);for(const r in e){let o=`(${typeof e[r]}):`;"object"==typeof e[r]&&(o+="\n"),Array.isArray(e[r])&&(o=`(array ${e[r].length}):\n`),(0,t.CL)(` - ${r} ${o}`,e[r])}},t.isValidETHAddress=function(e){return"string"==typeof e&&""!==e&&!!e.match(/^0x[a-fA-F0-9]{40}$/)},t.checkAllElementsPresent=function(e){e.forEach((e=>{if(!document.getElementById(e))throw new Error(`HTML element with id "${e}" not found`)}))}}},t={};!function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}(269)})();